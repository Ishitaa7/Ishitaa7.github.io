<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Time Series Analysis for Prediction of Daily Maximum Temperature | Ishita Raj </title> <meta name="author" content="Ishita Raj"> <meta name="description" content="I'm all about diving deep into NLP and exploring ways to make AI feel more humanâ€”think less robot, more relatable. Whether it's teaching machines to understand us better or giving them a touch of personality, that's my jam. Stick around and let's decode the magic of language together! "> <meta name="keywords" content="NLP, Language, Research"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ishitaa7.github.io/projects/FodsProject/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Ishita Raj </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item active"> <a class="nav-link" href="/_pages/dropdown/"> </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Time Series Analysis for Prediction of Daily Maximum Temperature</h1> <p class="post-description"></p> </header> <article> <h2 id="overview">Overview</h2> <p>This project explores time-series forecasting of daily maximum temperatures using statistical modeling techniques. The objective is to build a predictive model that can accurately estimate future temperature values and compare its performance against publicly available weather app predictions.</p> <h2 id="data-collection--cleaning">Data Collection &amp; Cleaning</h2> <p>The dataset includes daily recorded maximum temperatures (actual temperature) from May 30 to July 12, along with the predicted maximum temperatures for the next three days, stored in a CSV file which can be accessed <a href="https://drive.google.com/file/d/1YsKZlXe1oL5J-todxhVZ1oJtCzckPtL9/view?usp=sharing" rel="external nofollow noopener" target="_blank">here</a>. Since there were no missing values, the dataset required minimal preprocessing. Exploratory Data Analysis (EDA) was conducted to:</p> <ul> <li>Calculate mean, median, and mode of recorded temperatures.</li> <li>Generate histograms to visualize temperature distribution.</li> </ul> <p>Here is the code snippet used for calculating the mean, median and mode of the actual temperature, and for generating a histogram from the data:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td> <td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="n">scipy</span> <span class="kn">import</span> <span class="n">stats</span>


<span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Copy of FoDS Weather Data.xlsx</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>


<span class="n">actual_temperatures</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Calculate mean, median, and mode
</span><span class="n">mean_temp</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">.</span><span class="nf">mean</span><span class="p">()</span>
<span class="n">median_temp</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">.</span><span class="nf">median</span><span class="p">()</span>
<span class="n">mode_temp</span> <span class="o">=</span> <span class="n">stats</span><span class="p">.</span><span class="nf">mode</span><span class="p">(</span><span class="n">actual_temperatures</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">mode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Mean temperature = </span><span class="sh">"</span><span class="p">,</span> <span class="n">mean_temp</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Median temperature = </span><span class="sh">"</span><span class="p">,</span> <span class="n">median_temp</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Mode of tempertaures = </span><span class="sh">"</span><span class="p">,</span> <span class="n">mode_temp</span><span class="p">)</span>


<span class="c1"># Create a histogram of the actual temperatures
</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">hist</span><span class="p">(</span><span class="n">actual_temperatures</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="sh">'</span><span class="s">black</span><span class="sh">'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">'</span><span class="s">Histogram of Actual Temperatures</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">xlabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Temperature</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">ylabel</span><span class="p">(</span><span class="sh">'</span><span class="s">Frequency</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</pre></td> </tr></tbody></table></code></pre></div></div> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/HistogramOfActualTemp-480.webp 480w,/assets/img/HistogramOfActualTemp-800.webp 800w,/assets/img/HistogramOfActualTemp-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/HistogramOfActualTemp.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <blockquote class="block-highlight"> <p>Mean Temperature = 31.61363 <br> Median Temperature = 31.5 <br> Mode of Temperatures = 32</p> </blockquote> <h3 id="key-statistical-insights">Key Statistical Insights:</h3> <ul> <li>Temperature distribution follows a normal pattern, with slight skewness.</li> <li>Mean and median temperatures closely align, confirming low variance.</li> </ul> <h2 id="predictive-modelling-and-error-analysis">Predictive Modelling and Error Analysis</h2> <p>The ARIMA model was chosen for temperature forecasting due to its effectiveness in handling seasonal and non-stationary time-series data. <br> <strong>Training Approach:</strong></p> <ul> <li>Two ARIMA models were trained using different amounts of historical data: <ul> <li>First <strong>3</strong> data points for short-term prediction.</li> <li>First <strong>27</strong> data points for a more robust forecast.</li> </ul> </li> <li>Hyperparameters (p, d, q) were selected using empirical tuning.</li> <li>The model was used to predict temperatures for the next three days.</li> </ul> <h3 id="using-first-3-data-points">Using First 3 Data Points</h3> <ul id="3pt" class="tab" data-tab="5f0c693f-892f-47f7-8cdb-c5c249a527f0" data-name="3pt"> <li class="active" id="3pt-training-arima-model"> <a href="#">Training ARIMA Model </a> </li> <li id="3pt-arima-model-prediction-error"> <a href="#">ARIMA Model Prediction Error </a> </li> </ul> <ul class="tab-content" id="5f0c693f-892f-47f7-8cdb-c5c249a527f0" data-name="3pt"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td> <td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">statsmodels.tsa.arima.model</span> <span class="kn">import</span> <span class="n">ARIMA</span>

<span class="c1"># Load the data from the Excel file
</span><span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Copy of FoDS Weather Data.xlsx</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Extract the actual temperatures and dates
</span><span class="n">actual_temperatures</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">]</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Train the ARIMA model using the first 3 data points
</span><span class="n">train_data</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="nc">ARIMA</span><span class="p">(</span><span class="n">train_data</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">model_fit</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="nf">fit</span><span class="p">()</span>

<span class="c1"># Predict the temperatures for the next 3 days
</span><span class="n">predictions</span> <span class="o">=</span> <span class="n">model_fit</span><span class="p">.</span><span class="nf">forecast</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Determine the starting date for the predictions
</span><span class="n">start_date</span> <span class="o">=</span> <span class="n">dates</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># The last date in the training set
</span><span class="n">prediction_dates</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># Exclude the start date itself
</span>
<span class="c1"># Format the dates to display the month names
</span><span class="n">formatted_dates</span> <span class="o">=</span> <span class="n">prediction_dates</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%B %d, %Y</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># Reset the index of predictions to use formatted dates
</span><span class="n">predictions</span><span class="p">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">formatted_dates</span>
<span class="nf">print</span><span class="p">(</span><span class="n">predictions</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></div></div> <h4 id="prediction">Prediction</h4> <blockquote class="block-highlight"> <p>Highest Temp on Jun 02, 2024: 38.999514 <br> Highest Temp on Jun 03, 2024: 38.00064 <br> Highest Temp on Jun 04, 2024: 38.998867</p> </blockquote> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td> <td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">statsmodels.tsa.arima.model</span> <span class="kn">import</span> <span class="n">ARIMA</span>
<span class="kn">from</span> <span class="n">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span>

<span class="c1"># Load the data from the Excel file
</span><span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Copy of FoDS Weather Data.xlsx</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Extract the actual temperatures and dates
</span><span class="n">actual_temperatures</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">]</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Train the ARIMA model using the first 3 data points
</span><span class="n">train_data</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="nc">ARIMA</span><span class="p">(</span><span class="n">train_data</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">model_fit</span> <span class="o">=</span> <span class="n">model</span><span class="p">.</span><span class="nf">fit</span><span class="p">()</span>

<span class="c1"># Predict the temperatures for the next 3 days
</span><span class="n">predictions</span> <span class="o">=</span> <span class="n">model_fit</span><span class="p">.</span><span class="nf">forecast</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Determine the starting date for the predictions
</span><span class="n">start_date</span> <span class="o">=</span> <span class="n">dates</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># The last date in the training set
</span><span class="n">prediction_dates</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># Exclude the start date itself
</span>
<span class="c1"># Format the dates to display the month names
</span><span class="n">formatted_dates</span> <span class="o">=</span> <span class="n">prediction_dates</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%B %d, %Y</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># Reset the index of predictions to use formatted dates
</span><span class="n">predictions</span><span class="p">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">formatted_dates</span>

<span class="c1"># Extract the actual temperatures for comparison
</span><span class="n">actual_future_temperatures</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">].</span><span class="nf">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Calculate the prediction error for each day
</span><span class="n">prediction_errors</span> <span class="o">=</span> <span class="n">predictions</span><span class="p">.</span><span class="n">values</span> <span class="o">-</span> <span class="n">actual_future_temperatures</span><span class="p">.</span><span class="n">values</span>

<span class="c1"># Calculate the mean absolute error (MAE)
</span><span class="n">mae</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">(</span><span class="n">actual_future_temperatures</span><span class="p">,</span> <span class="n">predictions</span><span class="p">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># Create a DataFrame to display the results
</span><span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">({</span>
    <span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">:</span> <span class="n">formatted_dates</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Predicted_Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">predictions</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">actual_future_temperatures</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Prediction_Error</span><span class="sh">'</span><span class="p">:</span> <span class="n">prediction_errors</span>
<span class="p">})</span>

<span class="nf">print</span><span class="p">(</span><span class="n">results_df</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Mean Absolute Error (MAE): </span><span class="si">{</span><span class="n">mae</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></div></div> <blockquote> <table> <thead> <tr> <th>Date</th> <th>Predicted Temperature</th> <th>Actual Temperature</th> <th>Prediction Error</th> </tr> </thead> <tbody> <tr> <td>June 02, 2024</td> <td>38.999514</td> <td>38</td> <td>0.999514</td> </tr> <tr> <td>June 03, 2024</td> <td>38.000647</td> <td>32</td> <td>6.000647</td> </tr> <tr> <td>June 04, 2024</td> <td>38.998867</td> <td>34</td> <td>4.998867</td> </tr> </tbody> </table> </blockquote> <p class="block-highlight"><strong>Mean Absolute Error (MAE):</strong> 3.999676296043288</p> </li> </ul> <h3 id="using-27-data-points">Using 27 Data Points</h3> <ul id="27pt" class="tab" data-tab="fdae4342-ab10-4a7e-8aa9-6702fd4fea47" data-name="27pt"> <li class="active" id="27pt-training-arima-model"> <a href="#">Training ARIMA Model </a> </li> <li id="27pt-arima-model-prediction-error"> <a href="#">ARIMA Model Prediction Error </a> </li> </ul> <ul class="tab-content" id="fdae4342-ab10-4a7e-8aa9-6702fd4fea47" data-name="27pt"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td> <td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">statsmodels.tsa.arima.model</span> <span class="kn">import</span> <span class="n">ARIMA</span>

<span class="c1"># Load the data from the Excel file
</span><span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Copy of FoDS Weather Data.xlsx</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Extract the actual temperatures and dates
</span><span class="n">actual_temperatures</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">]</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Train the ARIMA model using the first 27 data points
</span><span class="n">train_data_27</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[:</span><span class="mi">27</span><span class="p">]</span>
<span class="n">model_27</span> <span class="o">=</span> <span class="nc">ARIMA</span><span class="p">(</span><span class="n">train_data_27</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">model_fit_27</span> <span class="o">=</span> <span class="n">model_27</span><span class="p">.</span><span class="nf">fit</span><span class="p">()</span>

<span class="c1"># Predict the temperatures for the next 3 days
</span><span class="n">predictions_27</span> <span class="o">=</span> <span class="n">model_fit_27</span><span class="p">.</span><span class="nf">forecast</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Determine the starting date for the predictions
</span><span class="n">start_date</span> <span class="o">=</span> <span class="n">dates</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">26</span><span class="p">]</span>  <span class="c1"># The last date in the training set
</span><span class="n">prediction_dates</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># Exclude the start date itself
</span>
<span class="c1"># Format the dates to display the month names
</span><span class="n">formatted_dates</span> <span class="o">=</span> <span class="n">prediction_dates</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%B %d, %Y</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># Reset the index of predictions to use formatted dates
</span><span class="n">predictions_27</span><span class="p">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">formatted_dates</span>
<span class="nf">print</span><span class="p">(</span><span class="n">predictions_27</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></div></div> <blockquote class="block-highlight"> <h4 id="prediction">Prediction</h4> <p>Highest Temp on Jun 26, 2024: 32.391275 <br> Highest Temp on Jun 27, 2024: 38.200240 <br> Highest Temp on Jun 28, 2024: 38.293510</p> </blockquote> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td> <td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">statsmodels.tsa.arima.model</span> <span class="kn">import</span> <span class="n">ARIMA</span>
<span class="kn">from</span> <span class="n">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span>

<span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Copy of FoDS Weather Data.xlsx</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
<span class="n">actual_temperatures</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">]</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Train the ARIMA model using the first 27 data points
</span><span class="n">train_data_27</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[:</span><span class="mi">27</span><span class="p">]</span>
<span class="n">model_27</span> <span class="o">=</span> <span class="nc">ARIMA</span><span class="p">(</span><span class="n">train_data_27</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">model_fit_27</span> <span class="o">=</span> <span class="n">model_27</span><span class="p">.</span><span class="nf">fit</span><span class="p">()</span>

<span class="c1"># Predict the temperatures for the next 3 days
</span><span class="n">predictions_27</span> <span class="o">=</span> <span class="n">model_fit_27</span><span class="p">.</span><span class="nf">forecast</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Determine the starting date for the predictions
</span><span class="n">start_date_27</span> <span class="o">=</span> <span class="n">dates</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">26</span><span class="p">]</span>  <span class="c1"># The last date in the training set
</span><span class="n">prediction_dates_27</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start_date_27</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># Exclude the start date itself
</span>
<span class="c1"># Format the dates to display the month names
</span><span class="n">formatted_dates_27</span> <span class="o">=</span> <span class="n">prediction_dates_27</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="sh">'</span><span class="s">%B %d, %Y</span><span class="sh">'</span><span class="p">)</span>

<span class="c1"># Reset the index of predictions to use formatted dates
</span><span class="n">predictions_27</span><span class="p">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">formatted_dates_27</span>

<span class="c1"># Extract the actual temperatures for comparison
</span><span class="n">actual_future_temperatures_27</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[</span><span class="mi">27</span><span class="p">:</span><span class="mi">30</span><span class="p">].</span><span class="nf">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Calculate the prediction error for each day
</span><span class="n">prediction_errors_27</span> <span class="o">=</span> <span class="n">predictions_27</span><span class="p">.</span><span class="n">values</span> <span class="o">-</span> <span class="n">actual_future_temperatures_27</span><span class="p">.</span><span class="n">values</span>

<span class="c1"># Calculate the mean absolute error (MAE)
</span><span class="n">mae_27</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">(</span><span class="n">actual_future_temperatures_27</span><span class="p">,</span> <span class="n">predictions_27</span><span class="p">.</span><span class="n">values</span><span class="p">)</span>

<span class="c1"># Create a DataFrame to display the results
</span><span class="n">results_df_27</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">({</span>
    <span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">:</span> <span class="n">formatted_dates_27</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Predicted_Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">predictions_27</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">actual_future_temperatures_27</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Prediction_Error</span><span class="sh">'</span><span class="p">:</span> <span class="n">prediction_errors_27</span>
<span class="p">})</span>

<span class="nf">print</span><span class="p">(</span><span class="n">results_df_27</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Mean Absolute Error (MAE) for 27 data points: </span><span class="si">{</span><span class="n">mae_27</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></div></div> <blockquote> <table> <thead> <tr> <th>Date</th> <th>Predicted Temperature</th> <th>Actual Temperature</th> <th>Prediction Error</th> </tr> </thead> <tbody> <tr> <td>June 26, 2024</td> <td>32.391275</td> <td>32</td> <td>0.391275</td> </tr> <tr> <td>June 27, 2024</td> <td>32.200240</td> <td>29</td> <td>3.200240</td> </tr> <tr> <td>June 28, 2024</td> <td>32.293510</td> <td>30</td> <td>2.293510</td> </tr> </tbody> </table> </blockquote> <p class="block-highlight"><strong>Mean Absolute Error (MAE) for 27 data points:</strong> 1.9616748230079157</p> </li> </ul> <h3 id="results">Results</h3> <ul> <li>More training data led to improved prediction accuracy, reducing overfitting.</li> <li>ARIMA captured temperature trends effectively, but accuracy declined over longer horizons</li> </ul> <h2 id="error-in-weather-app-predictions">Error in Weather App Predictions</h2> <p>The ARIMA model was compared against <strong>real-world weather app predictions</strong>.</p> <ul id="app" class="tab" data-tab="87c5f704-f2d2-4b04-9fa0-c30cb1fc76fc" data-name="app"> <li class="active" id="app-weather-app-prediction-error-when-first-3-data-points-are-taken"> <a href="#">Weather App Prediction Error When First 3 Data Points Are Taken </a> </li> <li id="app-weather-app-prediction-error-when-first-27-data-points-are-taken"> <a href="#">Weather App Prediction Error When First 27 Data Points Are Taken </a> </li> </ul> <ul class="tab-content" id="87c5f704-f2d2-4b04-9fa0-c30cb1fc76fc" data-name="app"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre></td> <td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span>

<span class="c1"># Load the data from the Excel file
</span><span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Copy of FoDS Weather Data.xlsx</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Extract the actual temperatures and dates
</span><span class="n">actual_temperatures</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">]</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">]</span>
<span class="n">predicted_temp_day1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Predicted_Temperature_Day1</span><span class="sh">'</span><span class="p">]</span>
<span class="n">predicted_temp_day2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Predicted_Temperature_Day2</span><span class="sh">'</span><span class="p">]</span>
<span class="n">predicted_temp_day3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Predicted_Temperature_Day3</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Find the index for June 1
</span><span class="n">june_1_index</span> <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="n">dates</span> <span class="o">==</span> <span class="sh">'</span><span class="s">2024-06-01</span><span class="sh">'</span><span class="p">].</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Actual temperatures for June 2, June 3, June 4
</span><span class="n">actual_temp_june_2_to_4</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[</span><span class="n">june_1_index</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">june_1_index</span><span class="o">+</span><span class="mi">4</span><span class="p">]</span>

<span class="c1"># Predicted temperatures for June 2, June 3, June 4 from June 1
</span><span class="n">predicted_temp_june_2_to_4</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">Series</span><span class="p">([</span>
    <span class="n">predicted_temp_day1</span><span class="p">[</span><span class="n">june_1_index</span><span class="p">],</span>
    <span class="n">predicted_temp_day2</span><span class="p">[</span><span class="n">june_1_index</span><span class="p">],</span>
    <span class="n">predicted_temp_day3</span><span class="p">[</span><span class="n">june_1_index</span><span class="p">]</span>
<span class="p">])</span>

<span class="c1"># Calculate the mean absolute error (MAE)
</span><span class="n">mae_june_2</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">([</span><span class="n">actual_temp_june_2_to_4</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="n">predicted_temp_june_2_to_4</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">mae_june_3</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">([</span><span class="n">actual_temp_june_2_to_4</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[</span><span class="n">predicted_temp_june_2_to_4</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">mae_june_4</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">([</span><span class="n">actual_temp_june_2_to_4</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="n">predicted_temp_june_2_to_4</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>

<span class="c1"># Calculate the total mean absolute error (MAE)
</span><span class="n">total_mae</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">(</span><span class="n">actual_temp_june_2_to_4</span><span class="p">,</span> <span class="n">predicted_temp_june_2_to_4</span><span class="p">)</span>

<span class="c1"># Display the results
</span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="sh">'</span><span class="s">June 2</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">June 3</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">June 4</span><span class="sh">'</span><span class="p">],</span>
    <span class="sh">'</span><span class="s">Actual Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">actual_temp_june_2_to_4</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Predicted Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">predicted_temp_june_2_to_4</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">MAE</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="n">mae_june_2</span><span class="p">,</span> <span class="n">mae_june_3</span><span class="p">,</span> <span class="n">mae_june_4</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="n">results_df</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="sh">'</span><span class="s">Total MAE</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sh">''</span><span class="p">,</span> <span class="sh">''</span><span class="p">,</span> <span class="sh">''</span><span class="p">,</span> <span class="n">total_mae</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="n">results_df</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></div></div> <blockquote> <table> <thead> <tr> <th>Date</th> <th>Actual Temperature</th> <th>Predicted Temperature</th> <th>MAE</th> </tr> </thead> <tbody> <tr> <td>June 2</td> <td>38</td> <td>38</td> <td>0.0</td> </tr> <tr> <td>June 3</td> <td>32</td> <td>34</td> <td>2.0</td> </tr> <tr> <td>June 4</td> <td>34</td> <td>35</td> <td>1.0</td> </tr> </tbody> </table> </blockquote> <p class="block-highlight"><strong>Total MAE:</strong> 1.0</p> </li> <li> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr>
<td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre></td> <td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span>

<span class="c1"># Load the data from the Excel file
</span><span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Copy of FoDS Weather Data.xlsx</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="c1"># Extract the actual temperatures and dates
</span><span class="n">actual_temperatures</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Actual_Temperature</span><span class="sh">'</span><span class="p">]</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">]</span>
<span class="n">predicted_temp_day1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Predicted_Temperature_Day1</span><span class="sh">'</span><span class="p">]</span>
<span class="n">predicted_temp_day2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Predicted_Temperature_Day2</span><span class="sh">'</span><span class="p">]</span>
<span class="n">predicted_temp_day3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">Predicted_Temperature_Day3</span><span class="sh">'</span><span class="p">]</span>

<span class="c1"># Find the index for June 25
</span><span class="n">june_25_index</span> <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="n">dates</span> <span class="o">==</span> <span class="sh">'</span><span class="s">2024-06-25</span><span class="sh">'</span><span class="p">].</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Actual temperatures for June 26, June 27, June 28
</span><span class="n">actual_temp_june_26_to_28</span> <span class="o">=</span> <span class="n">actual_temperatures</span><span class="p">[</span><span class="n">june_25_index</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">june_25_index</span><span class="o">+</span><span class="mi">4</span><span class="p">]</span>

<span class="c1"># Predicted temperatures for June 26, June 27, June 28 from June 25
</span><span class="n">predicted_temp_june_26_to_28</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">Series</span><span class="p">([</span>
    <span class="n">predicted_temp_day1</span><span class="p">[</span><span class="n">june_25_index</span><span class="p">],</span>
    <span class="n">predicted_temp_day2</span><span class="p">[</span><span class="n">june_25_index</span><span class="p">],</span>
    <span class="n">predicted_temp_day3</span><span class="p">[</span><span class="n">june_25_index</span><span class="p">]</span>
<span class="p">])</span>

<span class="c1"># Calculate the mean absolute error (MAE)
</span><span class="n">mae_june_26</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">([</span><span class="n">actual_temp_june_26_to_28</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="p">[</span><span class="n">predicted_temp_june_26_to_28</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
<span class="n">mae_june_27</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">([</span><span class="n">actual_temp_june_26_to_28</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[</span><span class="n">predicted_temp_june_26_to_28</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
<span class="n">mae_june_28</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">([</span><span class="n">actual_temp_june_26_to_28</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="n">predicted_temp_june_26_to_28</span><span class="p">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>

<span class="c1"># Calculate the total mean absolute error (MAE)
</span><span class="n">total_mae_june_26_to_28</span> <span class="o">=</span> <span class="nf">mean_absolute_error</span><span class="p">(</span><span class="n">actual_temp_june_26_to_28</span><span class="p">,</span> <span class="n">predicted_temp_june_26_to_28</span><span class="p">)</span>

<span class="c1"># Display the results
</span><span class="n">results_june_25</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">'</span><span class="s">Date</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="sh">'</span><span class="s">June 26</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">June 27</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">June 28</span><span class="sh">'</span><span class="p">],</span>
    <span class="sh">'</span><span class="s">Actual Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">actual_temp_june_26_to_28</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">Predicted Temperature</span><span class="sh">'</span><span class="p">:</span> <span class="n">predicted_temp_june_26_to_28</span><span class="p">.</span><span class="n">values</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">MAE</span><span class="sh">'</span><span class="p">:</span> <span class="p">[</span><span class="n">mae_june_26</span><span class="p">,</span> <span class="n">mae_june_27</span><span class="p">,</span> <span class="n">mae_june_28</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">results_df_june_25</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">(</span><span class="n">results_june_25</span><span class="p">)</span>
<span class="n">results_df_june_25</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="sh">'</span><span class="s">Total MAE</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="sh">''</span><span class="p">,</span> <span class="sh">''</span><span class="p">,</span> <span class="sh">''</span><span class="p">,</span> <span class="n">total_mae_june_26_to_28</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="n">results_df_june_25</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></div></div> <blockquote> <table> <thead> <tr> <th>Date</th> <th>Actual Temperature</th> <th>Predicted Temperature</th> <th>MAE</th> </tr> </thead> <tbody> <tr> <td>June 26</td> <td>32</td> <td>32</td> <td>0.000000</td> </tr> <tr> <td>June 27</td> <td>29</td> <td>29</td> <td>0.000000</td> </tr> <tr> <td>June 28</td> <td>30</td> <td>28</td> <td>2.000000</td> </tr> </tbody> </table> </blockquote> <p class="block-highlight"><strong>Total MAE:</strong> 0.666667</p> </li> </ul> <h3 id="key-observations">Key Observations:</h3> <ul> <li>ARIMA outperformed the weather app in short-term forecasts.</li> <li>Increasing training data from 3 to 27 points reduced MAE for both ARIMA and the weather app.</li> <li>Longer-term forecasts introduced greater errors, emphasizing the importance of periodic model retraining.</li> </ul> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/meanError-480.webp 480w,/assets/img/meanError-800.webp 800w,/assets/img/meanError-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/meanError.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>From this graph, it is concluded that increasing the training data size from 3 data points to 27 data points significantly improves the accuracy of both ARIMA model predictions and weather app predictions. The ARIMA model shows a notable reduction in MAE, though the weather app still maintains a lower error overall.</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/lagError-480.webp 480w,/assets/img/lagError-800.webp 800w,/assets/img/lagError-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/lagError.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>The Lag Error analysis further indicates that the ARIMA modelâ€™s prediction errors exhibit noticeable fluctuations across different lag values, suggesting that while the model improves with more training data, there is still some degree of error autocorrelation. In contrast, the weather app predictions appear to be more stable across lag values.</p> </article> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> Â© Copyright 2025 Ishita Raj. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: February 08, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?70d799092f862ad98c7876aa47712e20"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/tabs.min.js?b8748955e1076bbe0dabcf28f2549fdc"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>